{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useParams,useNavigate}from'react-router-dom';import'./RestaurantDetail.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RestaurantDetail=()=>{const{id}=useParams();const navigate=useNavigate();const[restaurant,setRestaurant]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[reviews,setReviews]=useState([]);const[newReview,setNewReview]=useState({name:'',rating:'',review:''});useEffect(()=>{const fetchRestaurant=async()=>{try{const response=await axios.get(\"http://localhost:5008/restaurants/\".concat(id));setRestaurant(response.data);setLoading(false);}catch(error){setError(error);setLoading(false);}};const fetchReviews=async()=>{try{const response=await axios.get(\"http://localhost:5008/restaurants/\".concat(id,\"/reviews\"));setReviews(response.data);}catch(error){setError(error);}};fetchRestaurant();fetchReviews();},[id]);const handleInputChange=e=>{const{name,value}=e.target;setNewReview(prevReview=>({...prevReview,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{await axios.post(\"http://localhost:5008/restaurants/\".concat(id,\"/reviews\"),newReview);const response=await axios.get(\"http://localhost:5008/restaurants/\".concat(id,\"/reviews\"));setReviews(response.data);setNewReview({name:'',rating:'',review:''});}catch(error){setError(error);console.error('Error submitting review:',error);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});return/*#__PURE__*/_jsxs(\"div\",{className:\"restaurant-detail\",children:[/*#__PURE__*/_jsx(\"h1\",{children:restaurant.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-container\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Address:\"}),\" \",restaurant.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Cuisines:\"}),\" \",restaurant.cuisines]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Average Cost for Two:\"}),\" \",restaurant.average_cost_for_two]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Votes:\"}),\" \",restaurant.votes]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Rating (Avg):\"}),\" \",restaurant.aggregate_rating]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(\"ul\",{children:reviews.map(review=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",review.name]}),\" \",/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rating:\"}),\" \",review.rating]}),/*#__PURE__*/_jsx(\"p\",{children:review.review})]},review.id))}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name: \"}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:newReview.name,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rating\",children:\"Rating: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"rating\",name:\"rating\",value:newReview.rating,onChange:handleInputChange,required:true,min:\"1\",max:\"5\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"review\",children:\"Review: \"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"review\",name:\"review\",value:newReview.review,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Review\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),children:\"Back to list\"})]});};export default RestaurantDetail;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","RestaurantDetail","id","navigate","restaurant","setRestaurant","loading","setLoading","error","setError","reviews","setReviews","newReview","setNewReview","name","rating","review","fetchRestaurant","response","get","concat","data","fetchReviews","handleInputChange","e","value","target","prevReview","handleSubmit","preventDefault","post","console","children","message","className","address","cuisines","average_cost_for_two","votes","aggregate_rating","map","onSubmit","htmlFor","type","onChange","required","min","max","onClick"],"sources":["C:/Users/tumba/OneDrive/Desktop/New folder/Zomato-Lite/frontend/src/RestaurantDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport './RestaurantDetail.css';\r\n\r\nconst RestaurantDetail = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [restaurant, setRestaurant] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [reviews, setReviews] = useState([]);\r\n    const [newReview, setNewReview] = useState({ name: '', rating: '', review: '' });\r\n\r\n    useEffect(() => {\r\n        const fetchRestaurant = async () => {\r\n            try {\r\n                const response = await axios.get(`http://localhost:5008/restaurants/${id}`);\r\n                setRestaurant(response.data);\r\n                setLoading(false);\r\n            } catch (error) {\r\n                setError(error);\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        const fetchReviews = async () => {\r\n            try {\r\n                const response = await axios.get(`http://localhost:5008/restaurants/${id}/reviews`);\r\n                setReviews(response.data);\r\n            } catch (error) {\r\n                setError(error);\r\n            }\r\n        };\r\n\r\n        fetchRestaurant();\r\n        fetchReviews();\r\n    }, [id]);\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setNewReview((prevReview) => ({ ...prevReview, [name]: value }));\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.post(`http://localhost:5008/restaurants/${id}/reviews`, newReview);\r\n            const response = await axios.get(`http://localhost:5008/restaurants/${id}/reviews`);\r\n            setReviews(response.data);\r\n            setNewReview({ name: '', rating: '', review: '' });\r\n        } catch (error) {\r\n            setError(error);\r\n            console.error('Error submitting review:', error);\r\n        }\r\n    };    \r\n\r\n    if (loading) return <div>Loading...</div>;\r\n    if (error) return <div>Error: {error.message}</div>;\r\n\r\n    return (\r\n        <div className=\"restaurant-detail\">\r\n            <h1>{restaurant.name}</h1>\r\n            <div className=\"details-container\">\r\n                <p><span className=\"info-label\">Address:</span> {restaurant.address}</p>\r\n                <p><span className=\"info-label\">Cuisines:</span> {restaurant.cuisines}</p>\r\n                <p><span className=\"info-label\">Average Cost for Two:</span> {restaurant.average_cost_for_two}</p>\r\n                <p><span className=\"info-label\">Votes:</span> {restaurant.votes}</p>\r\n                <p><span className=\"info-label\">Rating (Avg):</span> {restaurant.aggregate_rating}</p>\r\n            </div>\r\n\r\n            <h2>Reviews</h2>\r\n            <ul>\r\n                {reviews.map((review) => (\r\n                    <li key={review.id}>\r\n                        <p><strong>Name:</strong> {review.name}</p> {/* Add this line */}\r\n                        <p><strong>Rating:</strong> {review.rating}</p>\r\n                        <p>{review.review}</p>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                    <label htmlFor=\"name\">Name: </label> {/* Add this block */}\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        name=\"name\"\r\n                        value={newReview.name}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"rating\">Rating: </label>\r\n                    <input\r\n                        type=\"number\"\r\n                        id=\"rating\"\r\n                        name=\"rating\"\r\n                        value={newReview.rating}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                        min=\"1\"\r\n                        max=\"5\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"review\">Review: </label>\r\n                    <textarea\r\n                        id=\"review\"\r\n                        name=\"review\"\r\n                        value={newReview.review}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                <button type=\"submit\">Add Review</button>\r\n            </form>\r\n\r\n            <button onClick={() => navigate(-1)}>Back to list</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RestaurantDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}