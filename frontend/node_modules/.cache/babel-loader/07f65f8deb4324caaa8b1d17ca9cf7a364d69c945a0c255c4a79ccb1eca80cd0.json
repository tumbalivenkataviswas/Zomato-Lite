{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import Slider from'react-slick';import HeroSection from'./HeroSection';import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import'./RestaurantList.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const RestaurantList=()=>{const[restaurants,setRestaurants]=useState([]);const[error,setError]=useState(null);const fetchRestaurants=async function(){let searchTerm=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';try{const response=await axios.get(\"http://localhost:5008/restaurants?search=\".concat(searchTerm,\"&page=1\"));if(response.data&&Array.isArray(response.data.restaurants)){setRestaurants(response.data.restaurants);}else if(Array.isArray(response.data)){setRestaurants(response.data);}else{setError('Unexpected response structure');}}catch(error){setError('Error fetching data');}};useEffect(()=>{fetchRestaurants();},[]);const handleSearch=searchTerm=>{fetchRestaurants(searchTerm);};const settings={dots:true,infinite:true,speed:500,slidesToShow:3,slidesToScroll:1,autoplay:true,autoplaySpeed:3000};// Define color classes based on the rating text\nconst getColorClass=ratingText=>{switch(ratingText){case'Excellent':return'green-dark';case'Very Good':return'green';case'Good':return'yellow';case'Average':return'orange';case'Not Rated':default:return'white';}};if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeroSection,{onSearch:handleSearch}),/*#__PURE__*/_jsx(\"div\",{className:\"restaurant-list\",children:restaurants.length>0?/*#__PURE__*/_jsx(Slider,{...settings,children:restaurants.map(restaurant=>/*#__PURE__*/_jsx(\"div\",{className:\"restaurant-card \".concat(getColorClass(restaurant.rating_text)),children:/*#__PURE__*/_jsxs(Link,{to:\"/restaurant/\".concat(restaurant.id),children:[/*#__PURE__*/_jsx(\"h1\",{children:restaurant.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"restaurant-info\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Rating: \",restaurant.aggregate_rating]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Cuisines: \",restaurant.cuisines]})]})]})},restaurant.id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No restaurants found\"})})]});};export default RestaurantList;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","Slider","HeroSection","jsxs","_jsxs","jsx","_jsx","RestaurantList","restaurants","setRestaurants","error","setError","fetchRestaurants","searchTerm","arguments","length","undefined","response","get","concat","data","Array","isArray","handleSearch","settings","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","getColorClass","ratingText","children","onSearch","className","map","restaurant","rating_text","to","id","name","aggregate_rating","cuisines"],"sources":["C:/Users/tumba/OneDrive/Desktop/New folder/Zomato-Lite/frontend/src/RestaurantList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport Slider from 'react-slick';\r\nimport HeroSection from './HeroSection';\r\nimport \"slick-carousel/slick/slick.css\"; \r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport './RestaurantList.css';\r\n\r\nconst RestaurantList = () => {\r\n    const [restaurants, setRestaurants] = useState([]);\r\n    const [error, setError] = useState(null);\r\n\r\n    const fetchRestaurants = async (searchTerm = '') => {\r\n        try {\r\n            const response = await axios.get(`http://localhost:5008/restaurants?search=${searchTerm}&page=1`);\r\n            if (response.data && Array.isArray(response.data.restaurants)) {\r\n                setRestaurants(response.data.restaurants);\r\n            } else if (Array.isArray(response.data)) {\r\n                setRestaurants(response.data);\r\n            } else {\r\n                setError('Unexpected response structure');\r\n            }\r\n        } catch (error) {\r\n            setError('Error fetching data');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchRestaurants();\r\n    }, []);\r\n\r\n    const handleSearch = (searchTerm) => {\r\n        fetchRestaurants(searchTerm);\r\n    };\r\n\r\n    const settings = {\r\n        dots: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        slidesToShow: 3,\r\n        slidesToScroll: 1,\r\n        autoplay: true,\r\n        autoplaySpeed: 3000,\r\n    };\r\n\r\n    // Define color classes based on the rating text\r\n    const getColorClass = (ratingText) => {\r\n        switch (ratingText) {\r\n            case 'Excellent':\r\n                return 'green-dark';\r\n            case 'Very Good':\r\n                return 'green';\r\n            case 'Good':\r\n                return 'yellow';\r\n            case 'Average':\r\n                return 'orange';\r\n            case 'Not Rated':\r\n            default:\r\n                return 'white';\r\n        }\r\n    };\r\n\r\n    if (error) {\r\n        return <div>Error: {error}</div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <HeroSection onSearch={handleSearch} />\r\n            <div className=\"restaurant-list\">\r\n                {restaurants.length > 0 ? (\r\n                    <Slider {...settings}>\r\n                        {restaurants.map((restaurant) => (\r\n                            <div \r\n                                className={`restaurant-card ${getColorClass(restaurant.rating_text)}`} \r\n                                key={restaurant.id}\r\n                            >\r\n                                <Link to={`/restaurant/${restaurant.id}`}>\r\n                                    <h1>{restaurant.name}</h1>\r\n                                    <div className=\"restaurant-info\">\r\n                                        <h2>Rating: {restaurant.aggregate_rating}</h2>\r\n                                        <h3>Cuisines: {restaurant.cuisines}</h3>\r\n                                    </div>\r\n                                </Link>\r\n                            </div>\r\n                        ))}\r\n                    </Slider>\r\n                ) : (\r\n                    <p>No restaurants found</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RestaurantList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}